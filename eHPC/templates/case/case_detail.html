{% extends 'base.html' %}

{% block header_ext %}
    <link href="{{ url_for('static', filename='css/player.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="container">
        <div class="col-md-3" style="margin-top: 5px">
            <div style="position: fixed;height: 83%;width: 17%">
                <div style="overflow: auto;height: 100%">
                    <ul id="accordion" class="accordion">
                        <li data-case_id="{{ case.id }}">
                            <div class="link">
                                <i data-id='case-icon2' class="glyphicon glyphicon-tags"></i>
                                <span data-id="case-name">{{ case.name }}</span>
                                <i data-id='case-icon' class="glyphicon glyphicon-chevron-down temp-down"></i>
                            </div>
                            <ul class="submenu" style="display: block;">
                                <li>
                                    <a data-type="case-description" href="javascript:void(0)">案例描述</a>
                                </li>
                                {% for code in case.codes %}
                                    <li data-version_id="{{ code.version_id }}">
                                        <div class="link">
                                            <span>{{ code.name }}</span>
                                            <i class="glyphicon glyphicon-chevron-down"></i>
                                        </div>
                                        <ul class="submenu" style="display: block">
                                            <li>
                                                <a data-type="version-description" href="javascript:void(0)">优化描述</a>
                                            </li>
                                            {% for file in code.code_path | get_files_list %}
                                                <li>
                                                    <a data-type="code" href="javascript:void(0)">{{ file }}</a>
                                                </li>
                                            {% endfor %}

                                        </ul>
                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="col-md-9">
            <div style="height: 83%;position: fixed;width: 53%">
                <div id="case-text" class="panel" style="height: 100%;overflow: auto;width: 100%;margin: 5px 0;padding: 10px">
                    <div class="panel-heading" style="border-bottom: solid 1px #F0F0F0">
                        <span data-id="title" style="font-size: 25px"></span>
                    </div>
                    <div class="panel-body">
                        <p id="show-description"></p>
                    </div>
                </div>
                <div id="editor" style="height: 100%;overflow: auto;width: 100%;margin: 5px 0"></div>
            </div>
        </div>
    </div>

{% endblock %}

{% block footer_ext %}
    <script src="{{ url_for('static', filename='js/ace.js') }}" charset="utf-8"></script>
    <script>
        var post_to = "{{ url_for('case.show_case', case_id=case.id) }}";
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/tomorrow");
        editor.getSession().setMode("ace/mode/c_cpp");
        editor.setReadOnly(true);
    </script>
    <script src="{{ url_for('static', filename='js/case/case_detail.js') }}"></script>

{% endblock %}

